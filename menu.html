<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;700&display=swap" rel="stylesheet">
<title>メニュー一覧 - 米粉のしふぉん　まつぼっくり</title>
<link rel="stylesheet" href="css/styles.css">
</head>
<body class="menu-page-body">
  <a href="index.html">← トップへ戻る</a>
  <h1>メニュー一覧（編集は <code>data/menu.json</code> を更新してください）</h1>
  <table id="menuTable"><thead><tr><th>写真</th><th>商品名</th><th>説明</th><th>価格</th></tr></thead><tbody>読み込み中...</tbody></table>

<script>
(async ()=>{
  try{
    const r = await fetch('data/menu.json');
    const arr = await r.json();
    const body = document.querySelector('#menuTable tbody');
    if (!arr || arr.length===0){ body.innerHTML='<tr><td colspan="4">メニューはありません</td></tr>'; return; }
    body.innerHTML = arr.map(i=>`<tr><td><img class="page-small-img" src="${i.image}" alt="${i.name}" onerror="this.style.display='none'"></td><td>${i.name}</td><td>${i.description}</td><td>¥${i.price}</td></tr>`).join('');
  }catch(e){ document.querySelector('#menuTable tbody').innerHTML='<tr><td colspan="4">読み込みに失敗しました</td></tr>'; }
})();
</script>
</body>
</html>