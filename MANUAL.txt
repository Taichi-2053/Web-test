米粉のしふぉん まつぼっくり — サイト運用マニュアル

最終更新: 2025-12-31

目次
1. プロジェクト概要
2. ファイル構成
3. 開発環境の準備（ローカルで確認する方法）
4. ページ別編集手順
   - トップページ (index.html)
   - お店のこだわり (about.html)
   - 予約について (reservation.html)
   - メニュー一覧 (menu.html)
   - お知らせ一覧 (news.html)
5. データファイルの編集
   - data/shop.json
   - data/menu.json
   - data/news.json
   - calendar/YYYY-MM.json
6. 画像の扱い
7. スタイル編集 (css/styles.css)
8. よくあるトラブルと解決方法
9. デプロイとバックアップ
10. 付録（簡単なJSONの書き方、検証方法）

---
1) プロジェクト概要
このサイトは静的HTML + CSS + 最小限のJavaScriptで構成されています。動的部分はローカルJSONファイル（data/配下）から読み込みます。将来的に誰でも編集できるよう、以下の手順に従ってください。

2) ファイル構成（重要なファイル）
- index.html            : トップページ（メイン）
- about.html            : お店のこだわりページ
- reservation.html      : 予約に関するページ
- menu.html             : メニュー一覧（data/menu.json を参照）
- news.html             : お知らせ一覧（data/news.json を参照）
- css/styles.css        : 共通スタイル（すべてのページが読み込みます）
- data/shop.json        : 店舗情報（住所・営業時間等）
- data/menu.json        : メニューのデータ配列
- data/news.json        : お知らせの配列
- calendar/2025-12.json : 月別営業日データ（必要に応じて追加）
- image/                : サイトで使用する画像を配置するフォルダ

3) 開発環境の準備（ローカルで確認する方法）
- 静的ファイルなので、ブラウザで直接ファイルを開いても表示されますが、fetchでJSONを読むためにはローカルで簡易サーバを立てることを推奨します。
  - Python をお使いの場合: 作業ディレクトリをプロジェクトルートにして `python -m http.server 8000` を実行し、ブラウザで http://localhost:8000/ を開く。
  - Visual Studio Code の拡張 "Live Server" でも簡単に確認できます。
- 変更を行ったらブラウザをリロードして反映を確認してください。

4) ページ別編集手順
- 共通: すべてのページは `css/styles.css` を読み込んでいるので、見た目の調整はここを編集してください。フォントは Google Fonts から読み込む設定になっています（Noto Sans JP 等）。

- トップページ (index.html)
  - 画像スライド、ヒーロー、カレンダーなどを含むメインページです。文章（about の箇所など）は `<div class="about-block">` 内のテキストを編集してください。
  - お知らせは `data/news.json` の先頭要素を読み込みます。複数のお知らせは `news.html` で一覧にできます。

- お店のこだわり (about.html)
  - トップに表示される見出しや導入文は `<section class="hero">` 内の `#aboutIntro` を編集してください。
  - 詳細は下の `<section> .card` 内の見出し（`<h2>`）と段落を編集できます。

- 予約について (reservation.html)
  - 導入文は `#reservationIntro` を編集してください。お問い合わせ項目は下のカード内になります。

- メニュー一覧 (menu.html)
  - メニューのデータは `data/menu.json` を編集します（下節参照）。
  - 表示のサムネは `image/` 内のパスを `image/xxx.jpg` などで指定します。

- お知らせ一覧 (news.html)
  - `data/news.json` を編集することで一覧が更新されます。個別ページは未実装（必要なら拡張可能）。

- 駐車場について (parking.html)
  - 新規ページ `parking.html` を作成しました。駐車場の台数・位置・注意点などはこのファイルの本文を編集して更新してください。地図は Google Maps の埋め込みを利用しています（`iframe`）。
  - ナビゲーションにリンクを追加済み（`index.html` / `about.html` / `reservation.html`）。

5) データファイルの編集
- 共通: JSON は必ず UTF-8 で保存してください。編集後はJSONの構文チェック（末尾のカンマなど）を忘れずに。

- data/shop.json（例）
  {
    "name": "米粉のしふぉん まつぼっくり",
    "description": "雪ほたかの米粉100%を使用した…",
    "address": "群馬県藤岡市中島290-1",
    "openingHours": "11:00-18:00",
    "holidays": ["月","火"],
    "notes": "売切次第終了"
  }
  - `holidays` 配列はヘッダ表示やカレンダーに使われます。

- data/menu.json（配列）
  [
    {"name":"プレーン","description":"シンプルな...","price":280,"image":"image/image3.jpeg"},
    ...
  ]

- data/news.json（配列・日付順想定）
  [
    {"date":"2025-12-31","text":"年末の営業時間について..."},
    ...
  ]

- calendar/YYYY-MM.json
  {
    "year":2025,
    "month":12,
    "closedDaysOfWeek":[1,2],
    "notes":{
      "2025-12-25":"クリスマス営業",
      "2025-12-31":"大晦日は短縮営業"
    }
  }
  - `closedDaysOfWeek` は 0=日曜, 1=月曜,... 6=土曜 の配列

6) 画像の扱い
- 画像は `image/` に置き、HTML や JSON 中は相対パス（例: `image/instagram.png`）で指定します。
- 画像が表示されない場合、`onerror` 属性で代替画像（`image/logo.png`）にフォールバックする実装があります。
- 画像を追加したらブラウザのキャッシュをクリアして確認してください（Ctrl+F5 など）。

7) スタイル編集 (css/styles.css)
- 全ページで共通して使われるスタイルはこちらにまとめています。
- ページ固有の簡易スタイルは `.menu-page-body`、`.news-page-body` のようなクラスにまとめています。
- 変更手順:
  1. `css/styles.css` を編集
  2. ブラウザで該当ページをリロードして確認
- 注意: 重要なデザイン変数は `:root` に定義されています（`--main`, `--accent` など）。色やスペーシングの調整はここを編集すると一括で反映されます。

8) よくあるトラブルと解決方法
- JSONが読み込めない: ローカルでファイルを直接開くと fetch が失敗するため、簡易サーバを立てて確認してください。
- 画像が崩れる/大きすぎる: 画像サイズを調整し、CSS の `object-fit` や `.page-small-img` のスタイルを確認してください。
- フォントが読み込めない: Google Fonts の読み込みがブロックされていないか確認。ネットワーク制限下では読み込めないことがあります。

9) デプロイとバックアップ
- 変更を完了したら、サーバへアップロード（FTP/SCP）または Git にコミットしてプッシュしてください。
- 重要: データファイル（data/）を変更する前にバックアップを取ることを推奨します。

10) 付録: JSONの簡易検証
- オンラインJSON Linter（例: jsonlint.com）を使うか、Node/Python の `json` モジュールで読み込みテストを行って構文エラーを検出してください。

---
このマニュアルは随時更新してください。必要なら、画面別のスクリーンショットや編集サンプルを追加して、より分かりやすくすることを推奨します。ご希望があれば、Gitワークフロー（ブランチ・PR の運用ルール）も記載できます。